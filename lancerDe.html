<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Lancer dés</title>
  </head>

  <body>
        <h1>TIRAGE DE DES</h1>
        <p>
        <select id="nbFace">
        <optgroup label="Type de dé:">
            <option value="4">Dé 4</option>
            <option value="6">Dé 6</option>
            <option value="8">Dé 8</option>
            <option value="10">Dé 10</option>
            <option value="12">Dé 12</option>
            <option value="20">Dé 20</option>
        </optgroup>
        </select>
        </p>

        <p>
        Nombre de tirage (entre 1 et 6):
        <input type="number" id="nbTirage" min="1" max="6" value="1">
        </p>
        
        <p>
        <input type="checkbox" id="cbDetail">Afficher le détail des tirages
        </p>

        <p>
        <button id="go" onclick="tirage()" >Tirage</button>
        </p>

        <p id=detail></p>
        <p id=total>Total:</p>

    <script>
   
        function tirage() {
            let nbTirage = document.getElementById("nbTirage").value;
            let dice = document.getElementById("nbFace").value;
            let x = 0; //valeur du tirage
            let somme = 0; // somme des tirage
            let tirage = []; // tableau des tirages
            
            document.getElementById("detail").innerHTML = "";

            for (let i = 0; i< nbTirage; i++) {
                x = Math.floor(Math.random() * dice + 1) //tirage aléatoitre entre 1 et dice inclus
                tirage.push(x); //ajout du tirage à la fin du tableau
                somme += x; //equivaut à somme = somme + x
            }

            if(document.getElementById("cbDetail").checked) {
                document.getElementById("detail").innerHTML = "Tirage: " + tirage; //affichage du tableau
            }

            document.getElementById("total").innerHTML = " Total: " + somme; //affichage du résultat
        }

    </script>
  </body>
</html>
